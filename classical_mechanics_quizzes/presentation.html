<!--
Instrucciones rápidas (español):
1) Guarda este archivo como `presentation.html` en una carpeta de trabajo.
2) Renderiza los vídeos con Manim (comando mostrado abajo). Coloca los mp4 generados en la carpeta `assets/` junto a este HTML.
   Ejemplo de comando (desde terminal):
     manim -pql energy_quiz_manim.py KineticScene
     manim -pql energy_quiz_manim.py PotentialScene
     manim -pql energy_quiz_manim.py Question1Scene
     manim -pql energy_quiz_manim.py Question2Scene
     manim -pql energy_quiz_manim.py Question3Scene
   Los nombres de las escenas están en el bloque Python más abajo.
3) Abre `presentation.html` en tu navegador. Es una presentación lista para clase con botones interactivos,
   botones para mostrar respuestas, ticks, resaltados y controles de reproducción.

Debajo del HTML verás el script de Manim (Python). Copialo en un archivo `energy_quiz_manim.py` y ejecútalo.
-->

<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Energy Conservation Quiz — Presentación</title>
  <style>
    body{font-family: Arial, Helvetica, sans-serif; background:#0b1020; color:#eee;}
    .slide{max-width:1000px; margin:40px auto; background:linear-gradient(#071020, #071030); padding:24px; border-radius:12px; box-shadow:0 8px 30px rgba(0,0,0,0.6);}
    h1{color:#7dd3fc; margin-bottom:6px}
    .video-wrap{background:#000; padding:6px; border-radius:8px}
    video{width:100%; height:auto; display:block; border-radius:6px}
    .controls{display:flex; gap:12px; margin-top:12px; align-items:center}
    button{background:#111827;color:#e6eef8;border:1px solid rgba(255,255,255,0.06); padding:8px 12px;border-radius:8px; cursor:pointer}
    button.primary{background:#2563eb}
    .row{display:flex; gap:16px; align-items:flex-start}
    .col{flex:1}
    .panel{background:rgba(255,255,255,0.03); padding:12px; border-radius:8px}
    .options{margin-top:8px}
    .option{padding:8px 10px; border-radius:6px; margin-bottom:8px; background:rgba(255,255,255,0.02);}
    .option.correct{outline:3px solid rgba(34,197,94,0.35); background:rgba(34,197,94,0.06)}
    .option.wrong{opacity:0.6}
    .tick{font-size:22px; color:#22c55e; margin-left:8px}
    .highlight{box-shadow:0 0 0 6px rgba(99,102,241,0.06) inset; border-radius:6px}
    .big-answer{font-size:22px; color:#bbf7d0; margin-top:12px}
    .hint{font-size:14px; color:#c7d2fe}
    footer{margin-top:18px; text-align:center; opacity:0.7}

    /* Mobile adjustments */
    @media(max-width:700px){ .row{flex-direction:column} }
  </style>
</head>
<body>
  <div class="slide">
    <h1>Energy Conservation Quiz</h1>
    <p class="hint">Presentación lista para clase. Usa los botones para mostrar respuestas, marcar aciertos y resaltar.</p>

    <div class="row">
      <div class="col panel">
        <h3>Kinetic energy — Demo</h3>
        <div class="video-wrap">
          <!-- Reemplaza por: assets/kinetic.mp4 -->
          <video id="vid-kin" controls preload="metadata">
            <source src="assets/kinetic.mp4" type="video/mp4">
            Tu navegador no soporta video.
          </video>
        </div>
        <div class="controls">
          <button onclick="playSection('vid-kin')">Reproducir</button>
          <button onclick="pauseSection('vid-kin')">Pausa</button>
          <button onclick="replay('vid-kin')">Reiniciar</button>
        </div>
      </div>

      <div class="col panel">
        <h3>Potencial energy — Demo</h3>
        <div class="video-wrap">
          <!-- Reemplaza por: assets/potential.mp4 -->
          <video id="vid-pe" controls preload="metadata">
            <source src="assets/potential.mp4" type="video/mp4">
            Tu navegador no soporta video.
          </video>
        </div>
        <div class="controls">
          <button onclick="playSection('vid-pe')">Reproducir</button>
          <button onclick="pauseSection('vid-pe')">Pausa</button>
          <button onclick="replay('vid-pe')">Reiniciar</button>
        </div>
      </div>
    </div>

    <hr style="margin:18px 0; border-color:rgba(255,255,255,0.04)">

    <!-- Pregunta 1 -->
    <div class="row">
      <div class="col panel">
        <h3>Pregunta 1</h3>
        <p class="big-question">¿Qué pasa con la energía potencial cuando un objeto cae?</p>

        <div id="opts1" class="options">
          <div id="opt1a" class="option">A) Increases</div>
          <div id="opt1b" class="option">B) Decreases</div>
          <div id="opt1c" class="option">C) Stays the same</div>
        </div>

        <div class="controls">
          <button class="primary" onclick="revealAnswer(1, 'B')">Mostrar respuesta</button>
          <button onclick="markCorrect(1, 'B')">Marcar tick</button>
          <button onclick="highlightOption(1, 'A')">Resaltar A</button>
          <button onclick="highlightOption(1, 'B')">Resaltar B</button>
        </div>

        <div id="answer1" class="big-answer" aria-live="polite" style="display:none"></div>
      </div>

      <div class="col panel">
        <h3>Pregunta 2</h3>
        <p class="big-question">En un sistema cerrado, la energía mecánica total es...</p>

        <div id="opts2" class="options">
          <div id="opt2a" class="option">A) Created</div>
          <div id="opt2b" class="option">B) Destroyed</div>
          <div id="opt2c" class="option">C) Conserved</div>
        </div>

        <div class="controls">
          <button class="primary" onclick="revealAnswer(2, 'C')">Mostrar respuesta</button>
          <button onclick="markCorrect(2, 'C')">Marcar tick</button>
          <button onclick="highlightOption(2, 'C')">Resaltar C</button>
        </div>

        <div id="answer2" class="big-answer" aria-live="polite" style="display:none"></div>
      </div>
    </div>

    <hr style="margin:18px 0; border-color:rgba(255,255,255,0.04)">

    <div class="row">
      <div class="col panel">
        <h3>Pregunta 3 — Resorte</h3>
        <p class="big-question">¿Qué tipo de energía tiene un resorte estirado?</p>

        <div class="video-wrap">
          <!-- Reemplaza por: assets/spring.mp4 -->
          <video id="vid-spring" controls preload="metadata">
            <source src="assets/spring.mp4" type="video/mp4">
            Tu navegador no soporta video.
          </video>
        </div>

        <div id="opts3" class="options" style="margin-top:12px">
          <div id="opt3a" class="option">A) Kinetic</div>
          <div id="opt3b" class="option">B) Gravitational Potential</div>
          <div id="opt3c" class="option">C) Elastic Potential</div>
        </div>

        <div class="controls">
          <button class="primary" onclick="revealAnswer(3, 'C')">Mostrar respuesta</button>
          <button onclick="markCorrect(3, 'C')">Marcar tick</button>
          <button onclick="highlightOption(3, 'C')">Resaltar C</button>
        </div>

        <div id="answer3" class="big-answer" aria-live="polite" style="display:none"></div>
      </div>

      <div class="col panel">
        <h3>Notas del profesor</h3>
        <p class="hint">Usa los controles de vídeo para pausar justo donde quieras discutir un punto. 
        Los botones &quot;Mostrar respuesta&quot; revelan la respuesta correcta y animan la opción.</p>
      </div>
    </div>

    <footer>Plantilla generada por ChatGPT • Renderiza los videos con Manim y coloca los mp4 en <code>assets/</code></footer>
  </div>

  <script>
    function playSection(id){ document.getElementById(id).play(); }
    function pauseSection(id){ document.getElementById(id).pause(); }
    function replay(id){ const v=document.getElementById(id); v.currentTime=0; v.play(); }

    function revealAnswer(qnum, correct){
      const answerEl = document.getElementById('answer'+qnum);
      const opts = document.getElementById('opts'+qnum).children;
      // reset
      for(const o of opts){ o.classList.remove('correct'); o.classList.remove('wrong'); o.classList.remove('highlight'); }
      // mark
      for(const o of opts){ if(o.textContent.trim().startsWith(correct)){ o.classList.add('correct'); } else { o.classList.add('wrong'); } }
      answerEl.textContent = 'Respuesta: ' + correct;
      answerEl.style.display = 'block';
    }

    function markCorrect(qnum, correct){
      const opts = document.getElementById('opts'+qnum).children;
      for(const o of opts){
        if(o.textContent.trim().startsWith(correct)){
          // añadir tick
          if(!o.querySelector('.tick')){
            const span=document.createElement('span'); span.className='tick'; span.textContent=' ✓'; o.appendChild(span);
          }
        }
      }
    }

    function highlightOption(qnum, letter){
      const opts = document.getElementById('opts'+qnum).children;
      for(const o of opts){ o.classList.remove('highlight'); }
      for(const o of opts){ if(o.textContent.trim().startsWith(letter)){ o.classList.add('highlight'); } }
    }
  </script>

  <!--
    A continuación se incluye el script de Manim (cópialo a `energy_quiz_manim.py`).
    Este script está diseñado para generar tres pequeños videos: kinetic.mp4, potential.mp4, spring.mp4
    y escenas para las preguntas (puedes renderizarlas como videos cortos y linkearlos en assets/).
  -->
  <hr style="margin:24px">
  <div style="max-width:1000px; margin:12px auto; color:#cbd5e1; background:#071025; padding:16px; border-radius:10px; font-family:monospace; font-size:13px;">
    <strong>MANIM SCRIPT (energy_quiz_manim.py)</strong>
    <pre><code>
from manim import *

class EnergyConservationQuiz(Slide):
    def construct(self):
        # --- Título ---
        title = Text("Energy Conservation Quiz", font_size=48, color=BLUE)
        self.play(Write(title))
        self.next_slide()

        # --- Energía Cinética (KE) ---
        ke_def = Text("Kinetic Energy: Energy of motion, KE = 1/2 mv²", font_size=32).to_edge(UP)
        # Usamos ReplacementTransform para reemplazar el título anterior
        self.play(ReplacementTransform(title, ke_def))
        self.next_slide()

        # Animación: bola en movimiento
        ball = Circle(radius=0.3, color=RED).shift(LEFT * 4)
        velocity_arrow = Arrow(ball.get_center(), ball.get_center() + RIGHT * 2, color=GREEN)
        ke_label = Text("KE increases with speed", font_size=24).next_to(velocity_arrow, UP)
        
        # Agrupamos los elementos de la animación
        ke_anim_group = VGroup(ball, velocity_arrow, ke_label)

        self.play(FadeIn(ball))
        self.next_slide()
        self.play(GrowArrow(velocity_arrow), Write(ke_label))
        self.next_slide()
        
        # Animamos el grupo junto
        self.play(ke_anim_group.animate.shift(RIGHT * 8), run_time=2)
        self.next_slide()

        # --- Energía Potencial (PE) ---
        pe_def = Text("Potential Energy: Stored energy, PE = mgh", font_size=32).to_edge(UP)
        # Limpiamos la animación anterior y transformamos el título
        self.play(FadeOut(ke_anim_group), ReplacementTransform(ke_def, pe_def))
        self.next_slide()

        # Animación: bola en colina
        hill = Polygon(LEFT * 4 + DOWN*2, ORIGIN + UP * 2, RIGHT * 4 + DOWN*2, color=GREEN, fill_opacity=0.5)
        # Posicionamos la bola en la cima
        ball_pe = Circle(radius=0.3, color=RED).move_to(ORIGIN + UP * 2 + UP*0.3)
        pe_label = Text("PE increases with height", font_size=24).next_to(ball_pe, UP, buff=0.5)
        
        pe_anim_group = VGroup(hill, ball_pe, pe_label)
        self.play(FadeIn(pe_anim_group))
        self.next_slide()

        # --- Conservación ---
        cons = Text("Conservation of Energy: Total energy is conserved", font_size=30).to_edge(UP)
        # Limpiamos la animación de PE y transformamos el título
        self.play(FadeOut(pe_anim_group), ReplacementTransform(pe_def, cons))
        self.next_slide()

        # Animación: bola rodando
        hill_cons = Polygon(LEFT * 4 + DOWN*2, ORIGIN + UP * 2, RIGHT * 4 + DOWN*2, color=GREEN, fill_opacity=0.5)
        ball_cons = Circle(radius=0.3, color=RED).move_to(ORIGIN + UP * 2 + UP*0.3) # Empezar arriba
        
        # Posicionamos los textos de forma más lógica
        pe_decrease = Text("PE decreases", font_size=24, color=BLUE).shift(UP * 3.5)
        ke_increase = Text("KE increases", font_size=24, color=RED).shift(DOWN * 2.5)
        
        self.play(FadeIn(hill_cons), FadeIn(ball_cons))
        self.next_slide()

        # La bola rueda, el texto de PE aparece arriba
        self.play(
            ball_cons.animate.move_to(RIGHT * 4 + DOWN*2 + UP*0.3), # Rodar hasta abajo a la derecha
            Write(pe_decrease),
            run_time=3
        )
        # El texto de KE aparece abajo
        self.play(Write(ke_increase))
        self.next_slide()

        # Agrupamos para limpiar
        cons_anim_group = VGroup(hill_cons, ball_cons, ke_increase, pe_decrease)

        # --- Pregunta 1 ---
        # Limpiamos la escena anterior
        self.play(FadeOut(cons_anim_group), FadeOut(cons))
        self.next_slide()

        # CORRECCIÓN: Posicionar la pregunta arriba
        q1 = Text("What happens to potential energy when an object falls?", font_size=34).to_edge(UP)
        self.play(Write(q1))
        self.next_slide()

        opt1a = Text("A) Increases", font_size=30)
        opt1b = Text("B) Decreases", font_size=30)
        opt1c = Text("C) Stays the same", font_size=30)
        
        # CORRECCIÓN: Posicionar opciones DEBAJO de la pregunta
        options1 = VGroup(opt1a, opt1b, opt1c).arrange(DOWN, buff=0.5).next_to(q1, DOWN, buff=1.0)
        
        self.play(FadeIn(options1, shift=UP))
        self.next_slide()
        
        # Mostramos la respuesta resaltando la opción correcta
        self.play(Circumscribe(opt1b, color=GREEN)) # Resaltar B
        answer1 = Text("Answer: B) Decreases", font_size=32, color=GREEN).next_to(options1, DOWN, buff=1)
        self.play(Write(answer1))
        self.next_slide()

        q1_group = VGroup(q1, options1, answer1) # Grupo para limpiar

        # --- Pregunta 2 ---
        self.play(FadeOut(q1_group)) # Limpiar Q1
        self.next_slide()

        # CORRECCIÓN: Posicionar la pregunta arriba
        q2 = Text("In a closed system, total mechanical energy is...", font_size=36).to_edge(UP)
        self.play(Write(q2))
        self.next_slide()

        opt2a = Text("A) Created", font_size=30)
        opt2b = Text("B) Destroyed", font_size=30)
        opt2c = Text("C) Conserved", font_size=30)
        
        # CORRECCIÓN: Posicionar opciones DEBAJO de la pregunta
        options2 = VGroup(opt2a, opt2b, opt2c).arrange(DOWN, buff=0.5).next_to(q2, DOWN, buff=1.0)
        
        self.play(FadeIn(options2, shift=UP))
        self.next_slide()
        
        self.play(Circumscribe(opt2c, color=GREEN)) # Resaltar C
        answer2 = Text("Answer: C) Conserved", font_size=32, color=GREEN).next_to(options2, DOWN, buff=1)
        self.play(Write(answer2))
        self.next_slide()

        q2_group = VGroup(q2, options2, answer2) # Grupo para limpiar

        # --- Pregunta 3 ---
        self.play(FadeOut(q2_group)) # Limpiar Q2
        self.next_slide()

        # CORRECCIÓN: Posicionar la pregunta arriba
        q3 = Text("What type of energy does a stretched spring have?", font_size=36).to_edge(UP)
        self.play(Write(q3))
        self.next_slide()

        # Animación: resorte
        # Sustitución: usar una línea gruesa como resorte simple (Spring no está definido)
        spring = Line(LEFT * 2, RIGHT * 2, color=GRAY, stroke_width=6)
        spring_label = Text("Elastic Potential Energy", font_size=24).next_to(spring, DOWN)
        spring_group = VGroup(spring, spring_label).shift(UP * 0.5) # Centrarlo un poco

        self.play(FadeIn(spring_group))
        # Simular estiramiento escalando horizontalmente
        self.play(spring.animate.stretch(1.5, 0), run_time=1.5) # Estirar el resorte
        self.next_slide()

        opt3a = Text("A) Kinetic", font_size=30)
        opt3b = Text("B) Gravitational Potential", font_size=30)
        opt3c = Text("C) Elastic Potential", font_size=30)
        
        # CORRECCIÓN: Posicionar opciones DEBAJO de la animación
        options3 = VGroup(opt3a, opt3b, opt3c).arrange(DOWN, buff=0.5).next_to(spring_group, DOWN, buff=1.0)
        
        self.play(FadeIn(options3, shift=UP))
        self.next_slide()
        
        self.play(Circumscribe(opt3c, color=GREEN)) # Resaltar C
        answer3 = Text("Answer: C) Elastic Potential", font_size=32, color=GREEN).next_to(options3, DOWN, buff=1)
        self.play(Write(answer3))
        self.next_slide()

        q3_group = VGroup(q3, spring_group, options3, answer3) # Grupo para limpiar

        # --- Fin ---
        self.play(FadeOut(q3_group)) # Limpiar Q3
        self.next_slide()

        end = Text("Energy Conservation Quiz Complete!", font_size=48, color=YELLOW)
        self.play(Write(end))
        self.next_slide()

        self.play(FadeOut(end)) # Limpieza final
    </code></pre>
  </div>

</body>
</html>
